<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Verify Your Account | MedicareAI</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="auth-container">
        <div class="auth-card">
            <h2>Verify Your Code</h2>
            <p style="text-align: center; font-size: 0.9rem; color: #666;">
                Please enter the 6-digit verification code sent to you.
            </p>
            <form id="otpForm">
                <input type="text" id="otpInput" placeholder="Enter 6-digit code" 
                       maxlength="6" required 
                       style="text-align: center; font-size: 1.5rem; letter-spacing: 5px;">
                <button type="submit">Verify Account</button>
            </form>
            <p class="link-text"><a href="#" id="resendBtn">Resend Code</a></p>
        <div style="margin-top: 25px; border-top: 1px solid #e2e8f0; padding-top: 15px;">
    <p style="font-size: 0.8rem; color: #64748b;">Having trouble?</p>
    <a href="https://wa.me/YOUR_PHONE_NUMBER?text=Hi%20Swift%20MD%20Support,%20I'm%20having%20trouble%20receiving%20my%20OTP." 
       target="_blank" 
       style="color: #3b82f6; font-size: 0.9rem; text-decoration: none; font-weight: bold;">
       ðŸ’¬ Chat with Support
    </a>
</div>
    <script>
        document.getElementById('resendBtn').onclick = async (e) => {
    e.preventDefault();
    const resendBtn = e.target;
    resendBtn.innerText = "Sending...";
    resendBtn.style.pointerEvents = "none";

    try {
        const response = await fetch('/api/resend-otp', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' }
        });

        const result = await response.json();
        alert(result.message);
        
        // Simple cooldown timer (30 seconds)
        setTimeout(() => {
            resendBtn.innerText = "Resend Code";
            resendBtn.style.pointerEvents = "auto";
        }, 30000);
    } catch (err) {
        alert("Error resending code. Please try again.");
        resendBtn.innerText = "Resend Code";
        resendBtn.style.pointerEvents = "auto";
    }
};
    </script>
</body>
</html>